<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>knncolle_hnsw: knncolle_hnsw::HnswBuilder&lt; Index_, Data_, Distance_, Matrix_, HnswData_ &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">knncolle_hnsw
   </div>
   <div id="projectbrief">knncolle bindings for HNSW</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceknncolle__hnsw.html">knncolle_hnsw</a></li><li class="navelem"><a class="el" href="classknncolle__hnsw_1_1HnswBuilder.html">HnswBuilder</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classknncolle__hnsw_1_1HnswBuilder-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">knncolle_hnsw::HnswBuilder&lt; Index_, Data_, Distance_, Matrix_, HnswData_ &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Perform an approximate nearest neighbor search with HNSW.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="knncolle__hnsw_8hpp_source.html">knncolle_hnsw.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for knncolle_hnsw::HnswBuilder&lt; Index_, Data_, Distance_, Matrix_, HnswData_ &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classknncolle__hnsw_1_1HnswBuilder.png" usemap="#knncolle_5Fhnsw::HnswBuilder_3C_20Index_5F_2C_20Data_5F_2C_20Distance_5F_2C_20Matrix_5F_2C_20HnswData_5F_20_3E_map" alt=""/>
  <map id="knncolle_5Fhnsw::HnswBuilder_3C_20Index_5F_2C_20Data_5F_2C_20Distance_5F_2C_20Matrix_5F_2C_20HnswData_5F_20_3E_map" name="knncolle_5Fhnsw::HnswBuilder_3C_20Index_5F_2C_20Data_5F_2C_20Distance_5F_2C_20Matrix_5F_2C_20HnswData_5F_20_3E_map">
<area target="_parent" href="https://knncolle.github.io/knncolle/classknncolle_1_1Builder.html" alt="knncolle::Builder&lt; typename Index_, typename Data_, typename Distance_, class Matrix_ &gt;" shape="rect" coords="0,0,510,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a636724c701dc560c47b1ed73e855d859" id="r_a636724c701dc560c47b1ed73e855d859"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a636724c701dc560c47b1ed73e855d859">HnswBuilder</a> (<a class="el" href="structknncolle__hnsw_1_1DistanceConfig.html">DistanceConfig</a>&lt; HnswData_ &gt; distance_config, <a class="el" href="structknncolle__hnsw_1_1HnswOptions.html">HnswOptions</a> options)</td></tr>
<tr class="separator:a636724c701dc560c47b1ed73e855d859"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff1faf7bbd1869ff3bad2a0f3021559b" id="r_aff1faf7bbd1869ff3bad2a0f3021559b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff1faf7bbd1869ff3bad2a0f3021559b">HnswBuilder</a> (<a class="el" href="structknncolle__hnsw_1_1DistanceConfig.html">DistanceConfig</a>&lt; HnswData_ &gt; distance_config)</td></tr>
<tr class="separator:aff1faf7bbd1869ff3bad2a0f3021559b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1657231b9f65ac42b06b35fc348269d" id="r_af1657231b9f65ac42b06b35fc348269d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structknncolle__hnsw_1_1HnswOptions.html">HnswOptions</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1657231b9f65ac42b06b35fc348269d">get_options</a> ()</td></tr>
<tr class="separator:af1657231b9f65ac42b06b35fc348269d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae96f13d033eff8af3996996b92e4f4b2" id="r_ae96f13d033eff8af3996996b92e4f4b2"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1Prebuilt.html">knncolle::Prebuilt</a>&lt; Index_, Data_, Distance_ &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae96f13d033eff8af3996996b92e4f4b2">build_raw</a> (const Matrix_ &amp;data) const</td></tr>
<tr class="separator:ae96f13d033eff8af3996996b92e4f4b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classknncolle_1_1Builder"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classknncolle_1_1Builder')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el"  href="https://knncolle.github.io/knncolle/classknncolle_1_1Builder.html">knncolle::Builder&lt; typename Index_, typename Data_, typename Distance_, class Matrix_ &gt;</a></td></tr>
<tr class="memitem:a9a7a0cb39688bedba6ab406e59da6c90 inherit pub_methods_classknncolle_1_1Builder" id="r_a9a7a0cb39688bedba6ab406e59da6c90"><td class="memItemLeft" align="right" valign="top">
std::shared_ptr&lt; <a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1Prebuilt.html">Prebuilt</a>&lt; Index_, Data_, Distance_ &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1Builder.html#a9a7a0cb39688bedba6ab406e59da6c90">build_shared</a> (const Matrix_ &amp;data) const</td></tr>
<tr class="separator:a9a7a0cb39688bedba6ab406e59da6c90 inherit pub_methods_classknncolle_1_1Builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93cac638de3e4ad31919bc5d677d16b7 inherit pub_methods_classknncolle_1_1Builder" id="r_a93cac638de3e4ad31919bc5d677d16b7"><td class="memItemLeft" align="right" valign="top">
std::unique_ptr&lt; <a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1Prebuilt.html">Prebuilt</a>&lt; Index_, Data_, Distance_ &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1Builder.html#a93cac638de3e4ad31919bc5d677d16b7">build_unique</a> (const Matrix_ &amp;data) const</td></tr>
<tr class="separator:a93cac638de3e4ad31919bc5d677d16b7 inherit pub_methods_classknncolle_1_1Builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename Index_, typename Data_, typename Distance_, class Matrix_ = knncolle::SimpleMatrix&lt;Index_, Data_&gt;, typename HnswData_ = float&gt;<br />
class knncolle_hnsw::HnswBuilder&lt; Index_, Data_, Distance_, Matrix_, HnswData_ &gt;</div><p>Perform an approximate nearest neighbor search with HNSW. </p>
<p>In the HNSW algorithm (Malkov and Yashunin, 2016), each point is a node in a "nagivable small world" graph. The nearest neighbor search proceeds by starting at a node and walking through the graph to obtain closer neighbors to a given query point. Nagivable small world graphs are used to maintain connectivity across the data set by creating links between distant points. This speeds up the search by ensuring that the algorithm does not need to take many small steps to move from one cluster to another. The HNSW algorithm extends this idea by using a hierarchy of such graphs containing links of different lengths, which avoids wasting time on small steps in the early stages of the search where the current node position is far from the query.</p>
<dl class="section see"><dt>See also</dt><dd>Malkov YA, Yashunin DA (2016). Efficient and robust approximate nearest neighbor search using Hierarchical Navigable Small World graphs. <em>arXiv</em>. <a href="https://arxiv.org/abs/1603.09320">https://arxiv.org/abs/1603.09320</a></dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Index_</td><td>Integer type for the observation indices. </td></tr>
    <tr><td class="paramname">Data_</td><td>Numeric type for the input and query data. </td></tr>
    <tr><td class="paramname">Distance_</td><td>Floating point type for the distances. </td></tr>
    <tr><td class="paramname">Matrix_</td><td>Class of the input data matrix. This should satisfy the <code><a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1Matrix.html">knncolle::Matrix</a></code> interface. </td></tr>
    <tr><td class="paramname">HnswData_</td><td>Type of data in the HNSW index, usually floating-point. This defaults to a <code>float</code> instead of a <code>double</code> to sacrifice some accuracy for performance. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a636724c701dc560c47b1ed73e855d859" name="a636724c701dc560c47b1ed73e855d859"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a636724c701dc560c47b1ed73e855d859">&#9670;&#160;</a></span>HnswBuilder() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Data_ , typename Distance_ , class Matrix_  = knncolle::SimpleMatrix&lt;Index_, Data_&gt;, typename HnswData_  = float&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classknncolle__hnsw_1_1HnswBuilder.html">knncolle_hnsw::HnswBuilder</a>&lt; Index_, Data_, Distance_, Matrix_, HnswData_ &gt;::HnswBuilder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknncolle__hnsw_1_1DistanceConfig.html">DistanceConfig</a>&lt; HnswData_ &gt;</td>          <td class="paramname"><span class="paramname"><em>distance_config</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structknncolle__hnsw_1_1HnswOptions.html">HnswOptions</a></td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">distance_config</td><td>Configuration for computing distances in the HNSW index, e.g., <code><a class="el" href="namespaceknncolle__hnsw.html#af72480cec632d4f9798b27f65c378a64">makeEuclideanDistanceConfig()</a></code>. </td></tr>
    <tr><td class="paramname">options</td><td>Further options for HNSW index construction and searching. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aff1faf7bbd1869ff3bad2a0f3021559b" name="aff1faf7bbd1869ff3bad2a0f3021559b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff1faf7bbd1869ff3bad2a0f3021559b">&#9670;&#160;</a></span>HnswBuilder() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Data_ , typename Distance_ , class Matrix_  = knncolle::SimpleMatrix&lt;Index_, Data_&gt;, typename HnswData_  = float&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classknncolle__hnsw_1_1HnswBuilder.html">knncolle_hnsw::HnswBuilder</a>&lt; Index_, Data_, Distance_, Matrix_, HnswData_ &gt;::HnswBuilder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknncolle__hnsw_1_1DistanceConfig.html">DistanceConfig</a>&lt; HnswData_ &gt;</td>          <td class="paramname"><span class="paramname"><em>distance_config</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Overload that uses the default <code>Options</code>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">distance_config</td><td>Configuration for computing distances in the HNSW index, e.g., <code><a class="el" href="namespaceknncolle__hnsw.html#af72480cec632d4f9798b27f65c378a64">makeEuclideanDistanceConfig()</a></code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae96f13d033eff8af3996996b92e4f4b2" name="ae96f13d033eff8af3996996b92e4f4b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae96f13d033eff8af3996996b92e4f4b2">&#9670;&#160;</a></span>build_raw()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Data_ , typename Distance_ , class Matrix_  = knncolle::SimpleMatrix&lt;Index_, Data_&gt;, typename HnswData_  = float&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1Prebuilt.html">knncolle::Prebuilt</a>&lt; Index_, Data_, Distance_ &gt; * <a class="el" href="classknncolle__hnsw_1_1HnswBuilder.html">knncolle_hnsw::HnswBuilder</a>&lt; Index_, Data_, Distance_, Matrix_, HnswData_ &gt;::build_raw </td>
          <td>(</td>
          <td class="paramtype">const Matrix_ &amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a <code><a class="el" href="classknncolle__hnsw_1_1HnswPrebuilt.html" title="Prebuilt index for an Hnsw search.">HnswPrebuilt</a></code> instance. </p>

<p>Implements <a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1Builder.html#acd18a78af362f948ede3ddd8d5f6e88c">knncolle::Builder&lt; typename Index_, typename Data_, typename Distance_, class Matrix_ &gt;</a>.</p>

</div>
</div>
<a id="af1657231b9f65ac42b06b35fc348269d" name="af1657231b9f65ac42b06b35fc348269d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1657231b9f65ac42b06b35fc348269d">&#9670;&#160;</a></span>get_options()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Data_ , typename Distance_ , class Matrix_  = knncolle::SimpleMatrix&lt;Index_, Data_&gt;, typename HnswData_  = float&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structknncolle__hnsw_1_1HnswOptions.html">HnswOptions</a> &amp; <a class="el" href="classknncolle__hnsw_1_1HnswBuilder.html">knncolle_hnsw::HnswBuilder</a>&lt; Index_, Data_, Distance_, Matrix_, HnswData_ &gt;::get_options </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Options for HNSW, to be modified prior to calling <code><a class="el" href="#ae96f13d033eff8af3996996b92e4f4b2">build_raw()</a></code> and friends. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>knncolle_hnsw/<a class="el" href="knncolle__hnsw_8hpp_source.html">knncolle_hnsw.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
